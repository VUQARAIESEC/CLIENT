{"ast":null,"code":"import _taggedTemplateLiteral from\"C:\\\\Users\\\\PC\\\\Desktop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"C:\\\\Users\\\\PC\\\\Desktop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\PC\\\\Desktop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";var _templateObject;import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{createReview,detailsProduct}from\"../actions/productActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import styled from\"styled-components\";import Rating from\"../components/Rating\";import{PRODUCT_REVIEW_CREATE_RESET}from\"../constants/productConstants\";export default function ProductScreen(props){var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(\"L\"),_useState4=_slicedToArray(_useState3,2),size=_useState4[0],setSize=_useState4[1];var _useState5=useState(\"Black\"),_useState6=_slicedToArray(_useState5,2),color=_useState6[0],setColor=_useState6[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var userSignin=useSelector(function(state){return state.userSignin;});var userInfo=userSignin.userInfo;var productReviewCreate=useSelector(function(state){return state.productReviewCreate;});var loadingReviewCreate=productReviewCreate.loading,errorReviewCreate=productReviewCreate.error,successReviewCreate=productReviewCreate.success;var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],setRating=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),comment=_useState10[0],setComment=_useState10[1];useEffect(function(){if(successReviewCreate){window.alert(\"Review Submitted Successfully\");setRating(\"\");setComment(\"\");dispatch({type:PRODUCT_REVIEW_CREATE_RESET});}dispatch(detailsProduct(productId));},[dispatch,productId,successReviewCreate]);var addToCartHandler=function addToCartHandler(){props.history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty,\"=size=\").concat(size,\"=color=\").concat(color));};var submitHandler=function submitHandler(e){e.preventDefault();if(comment&&rating){dispatch(createReview(productId,{rating:rating,comment:comment,name:userInfo.name}));}else{alert(\"Please enter comment and rating\");}};return/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(\"div\",null,loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Ana S\\u0259hif\\u0259y\\u0259 qay\\u0131t\"),/*#__PURE__*/React.createElement(\"div\",{className:\"main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"productimg\"},/*#__PURE__*/React.createElement(\"img\",{src:product.image,alt:product.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"content \"},/*#__PURE__*/React.createElement(\"h1\",{className:\"productname\"},product.name),/*#__PURE__*/React.createElement(\"h6\",{className:\"font-bold text-[#08AD76]\"},\"M\\u0259hsul Kodu: \",/*#__PURE__*/React.createElement(\"span\",null,\"#089754\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"font-bold \"},\"Marka: \",/*#__PURE__*/React.createElement(\"span\",null,\"VS-FASHION\")),/*#__PURE__*/React.createElement(\"h3\",{className:\"mt-[8px] mb-[8px] text-[28px] font-semibold\"},product.price,\" Azn\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-[16px] mt-[8px] font-normal\"},product.description),/*#__PURE__*/React.createElement(Rating,{rating:product.rating,numReviews:product.numReviews}),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-bold\"},\"Uy\\u011Funluq:\"),/*#__PURE__*/React.createElement(\"span\",null,product.countInStock>0?/*#__PURE__*/React.createElement(\"span\",null,\"Stokdad\\u0131r\"):/*#__PURE__*/React.createElement(\"span\",null,\" Stokda yoxdur\"))),product.countInStock>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"w-[200px]\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex  justify-between w-[100%] items-center\"},/*#__PURE__*/React.createElement(\"div\",null,\"R\\u0259ng:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sizeselect\"},/*#__PURE__*/React.createElement(\"select\",{value:color,onChange:function onChange(e){return setColor(e.target.value);}},[\"Red\",\"Green\",\"Blue\",\"Orange\",\"Black\"].map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x,value:x},x);}))))),/*#__PURE__*/React.createElement(\"li\",{className:\"w-[200px]\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex  justify-between w-[100%] items-center\"},/*#__PURE__*/React.createElement(\"div\",null,\"\\xD6l\\xE7\\xFC:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sizeselect\"},/*#__PURE__*/React.createElement(\"select\",{value:size,onChange:function onChange(e){return setSize(e.target.value);}},[\"XL\",\"L\",\"S\",\"ML\",\"R\"].map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x,value:x},x);}))))),/*#__PURE__*/React.createElement(\"li\",{className:\"w-[200px]\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex  justify-between w-[100%] items-center\"},/*#__PURE__*/React.createElement(\"div\",null,\"\\u018Fd\\u0259d:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sizeselect\"},/*#__PURE__*/React.createElement(\"select\",{className:\" p-[0px] \",value:qty,onChange:function onChange(e){return setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);}))))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:addToCartHandler,type:\"button\",className:\"flex flex-row w-[100%]  h-[40px] justify-center items-center my-5 bg-[#08AD76] p-3  cursor-pointer\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-white text-base font-semibold text-[30px] carttext\"},\"Karta \\u0259lav\\u0259 et\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"w-[90%] m-[auto] mt-[50px] \"},/*#__PURE__*/React.createElement(\"h2\",{id:\"reviews\",className:\"text-[20px] m-[0px] font-bold\"},\"R\\u0259yl\\u0259r\"),product.reviews.length===0&&/*#__PURE__*/React.createElement(MessageBox,null,\"M\\u0259hsul bar\\u0259d\\u0259 r\\u0259y yoxdur\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"w-[100%]  m-[auto]\"},product.reviews.map(function(review){return/*#__PURE__*/React.createElement(\"li\",{key:review._id},/*#__PURE__*/React.createElement(\"strong\",null,\"\\u0130stifad\\u0259\\xE7i ad\\u0131: \",review.name),/*#__PURE__*/React.createElement(Rating,{rating:review.rating,caption:\" \"}),/*#__PURE__*/React.createElement(\"p\",null,\"Tarix: \",review.createdAt.substring(0,10)),/*#__PURE__*/React.createElement(\"p\",null,\"R\\u0259y: \",review.comment));}),/*#__PURE__*/React.createElement(\"li\",null,userInfo?/*#__PURE__*/React.createElement(\"form\",{className:\"formreview\",onSubmit:submitHandler},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-[20px] m-[0px] font-bold\"},\"R\\u0259y yaz\\u0131n\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"rating\"},\"Reytinq\"),/*#__PURE__*/React.createElement(\"select\",{id:\"rating\",value:rating,onChange:function onChange(e){return setRating(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Se\\xE7in...\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1- \\xC7ox Pis\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2- Pis\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3- Yax\\u015F\\u0131\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4- \\xC7ox Yax\\u015F\\u0131\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5\"},\"5- \\u018Fla\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"comment\"},\"Koment\"),/*#__PURE__*/React.createElement(\"textarea\",{id:\"comment\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"bg-[#08AD76] text-[white]\",type:\"submit\"},\"G\\xF6nd\\u0259r\")),/*#__PURE__*/React.createElement(\"div\",null,loadingReviewCreate&&/*#__PURE__*/React.createElement(LoadingBox,null),errorReviewCreate&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorReviewCreate))):/*#__PURE__*/React.createElement(MessageBox,null,\"R\\u0259y yazmaq \\xFC\\xE7\\xFCn z\\u0259hm\\u0259t olmasa \",/*#__PURE__*/React.createElement(Link,{to:\"/signin\"},\"daxil olun\"))))))));}var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 80%;\\n  margin: auto;\\n  margin-top: 30px;\\n  margn-bottom: 50px;\\n\\n  hr {\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n  }\\n  .main {\\n    display: flex;\\n    width: 100%;\\n  }\\n  .productname {\\n    font-size: 45px;\\n    font-weight: bold;\\n  }\\n\\n  select {\\n    border: 1px solid black;\\n  }\\n\\n  .productimg {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    width: 50%;\\n    height: 500px;\\n    background-color: #f6f6f4;\\n  }\\n\\n  .productimg img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n  }\\n\\n  .content {\\n    width: 50%;\\n    margin-left: 30px;\\n    padding: 20px;\\n  }\\n\\n  @media (max-width: 768px) {\\n    width: 95%;\\n    .main {\\n      flex-direction: column;\\n    }\\n    .content {\\n      width: 100%;\\n      margin-left: 0px;\\n    }\\n    .accordion {\\n      width: 100%;\\n    }\\n\\n    .productname {\\n      font-size: 25px;\\n      font-weight: bold;\\n    }\\n    .carttext {\\n      font-size: 15px;\\n    }\\n    .productimg {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      width: 100%;\\n      height: 300px;\\n      background-color: #f6f6f4;\\n    }\\n  }\\n\"])));","map":{"version":3,"sources":["C:/Users/PC/Desktop/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","createReview","detailsProduct","LoadingBox","MessageBox","styled","Rating","PRODUCT_REVIEW_CREATE_RESET","ProductScreen","props","dispatch","productId","match","params","id","qty","setQty","size","setSize","color","setColor","productDetails","state","loading","error","product","userSignin","userInfo","productReviewCreate","loadingReviewCreate","errorReviewCreate","successReviewCreate","success","rating","setRating","comment","setComment","window","alert","type","addToCartHandler","history","push","submitHandler","e","preventDefault","name","image","price","description","numReviews","countInStock","target","value","map","x","Array","keys","reviews","length","review","_id","createdAt","substring","Wrapper","div"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { createReview, detailsProduct } from \"../actions/productActions\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport styled from \"styled-components\";\nimport Rating from \"../components/Rating\";\nimport { PRODUCT_REVIEW_CREATE_RESET } from \"../constants/productConstants\";\n\nexport default function ProductScreen(props) {\n  const dispatch = useDispatch();\n  const productId = props.match.params.id;\n  const [qty, setQty] = useState(1);\n  const [size, setSize] = useState(\"L\");\n  const [color, setColor] = useState(\"Black\");\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\n  const {\n    loading: loadingReviewCreate,\n    error: errorReviewCreate,\n    success: successReviewCreate,\n  } = productReviewCreate;\n\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n\n  useEffect(() => {\n    if (successReviewCreate) {\n      window.alert(\"Review Submitted Successfully\");\n      setRating(\"\");\n      setComment(\"\");\n      dispatch({ type: PRODUCT_REVIEW_CREATE_RESET });\n    }\n    dispatch(detailsProduct(productId));\n  }, [dispatch, productId, successReviewCreate]);\n\n  const addToCartHandler = () => {\n    props.history.push(\n      `/cart/${productId}?qty=${qty}=size=${size}=color=${color}`\n    );\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (comment && rating) {\n      dispatch(\n        createReview(productId, { rating, comment, name: userInfo.name })\n      );\n    } else {\n      alert(\"Please enter comment and rating\");\n    }\n  };\n  return (\n    <Wrapper>\n      <div>\n        {loading ? (\n          <LoadingBox></LoadingBox>\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n          <div>\n            <Link to=\"/\">Ana Səhifəyə qayıt</Link>\n            <div className=\"main\">\n              <div className=\"productimg\">\n                <img src={product.image} alt={product.name}></img>\n              </div>\n              <div className=\"content \">\n                <h1 className=\"productname\">{product.name}</h1>\n                <h6 className=\"font-bold text-[#08AD76]\">\n                  Məhsul Kodu: <span>#089754</span>\n                </h6>\n                <h6 className=\"font-bold \">\n                  Marka: <span>VS-FASHION</span>\n                </h6>\n                <h3 className=\"mt-[8px] mb-[8px] text-[28px] font-semibold\">\n                  {product.price} Azn\n                </h3>\n                <p className=\"text-[16px] mt-[8px] font-normal\">\n                  {product.description}\n                </p>\n                <Rating\n                  rating={product.rating}\n                  numReviews={product.numReviews}\n                ></Rating>\n\n                <hr />\n                <div>\n                  <span className=\"font-bold\">Uyğunluq:</span>\n                  <span>\n                    {product.countInStock > 0 ? (\n                      <span>Stokdadır</span>\n                    ) : (\n                      <span> Stokda yoxdur</span>\n                    )}\n                  </span>\n                </div>\n\n                {product.countInStock > 0 && (\n                  <>\n                    <li className=\"w-[200px]\">\n                      <div className=\"flex  justify-between w-[100%] items-center\">\n                        <div>Rəng:</div>\n                        <div className=\"sizeselect\">\n                          <select\n                            value={color}\n                            onChange={(e) => setColor(e.target.value)}\n                          >\n                            {[\"Red\", \"Green\", \"Blue\", \"Orange\", \"Black\"].map(\n                              (x) => (\n                                <option key={x} value={x}>\n                                  {x}\n                                </option>\n                              )\n                            )}\n                          </select>\n                        </div>\n                      </div>\n                    </li>\n\n                    <li className=\"w-[200px]\">\n                      <div className=\"flex  justify-between w-[100%] items-center\">\n                        <div>Ölçü:</div>\n                        <div className=\"sizeselect\">\n                          <select\n                            value={size}\n                            onChange={(e) => setSize(e.target.value)}\n                          >\n                            {[\"XL\", \"L\", \"S\", \"ML\", \"R\"].map((x) => (\n                              <option key={x} value={x}>\n                                {x}\n                              </option>\n                            ))}\n                          </select>\n                        </div>\n                      </div>\n                    </li>\n\n                    <li className=\"w-[200px]\">\n                      <div className=\"flex  justify-between w-[100%] items-center\">\n                        <div>Ədəd:</div>\n                        <div className=\"sizeselect\">\n                          <select\n                            className=\" p-[0px] \"\n                            value={qty}\n                            onChange={(e) => setQty(e.target.value)}\n                          >\n                            {[...Array(product.countInStock).keys()].map(\n                              (x) => (\n                                <option key={x + 1} value={x + 1}>\n                                  {x + 1}\n                                </option>\n                              )\n                            )}\n                          </select>\n                        </div>\n                      </div>\n                    </li>\n\n                    <li>\n                      <button\n                        onClick={addToCartHandler}\n                        type=\"button\"\n                        className=\"flex flex-row w-[100%]  h-[40px] justify-center items-center my-5 bg-[#08AD76] p-3  cursor-pointer\"\n                      >\n                        <p className=\"text-white text-base font-semibold text-[30px] carttext\">\n                          Karta əlavə et\n                        </p>\n                      </button>\n                    </li>\n                  </>\n                )}\n              </div>\n            </div>\n            <div className=\"w-[90%] m-[auto] mt-[50px] \">\n              <h2 id=\"reviews\" className=\"text-[20px] m-[0px] font-bold\">\n                Rəylər\n              </h2>\n              {product.reviews.length === 0 && (\n                <MessageBox>Məhsul barədə rəy yoxdur</MessageBox>\n              )}\n              <ul className=\"w-[100%]  m-[auto]\">\n                {product.reviews.map((review) => (\n                  <li key={review._id}>\n                    <strong>İstifadəçi adı: {review.name}</strong>\n                    <Rating rating={review.rating} caption=\" \"></Rating>\n                    <p>Tarix: {review.createdAt.substring(0, 10)}</p>\n                    <p>Rəy: {review.comment}</p>\n                  </li>\n                ))}\n                <li>\n                  {userInfo ? (\n                    <form className=\"formreview\" onSubmit={submitHandler}>\n                      <div>\n                        <h2 className=\"text-[20px] m-[0px] font-bold\">\n                          Rəy yazın\n                        </h2>\n                      </div>\n                      <div>\n                        <label htmlFor=\"rating\">Reytinq</label>\n                        <select\n                          id=\"rating\"\n                          value={rating}\n                          onChange={(e) => setRating(e.target.value)}\n                        >\n                          <option value=\"\">Seçin...</option>\n                          <option value=\"1\">1- Çox Pis</option>\n                          <option value=\"2\">2- Pis</option>\n                          <option value=\"3\">3- Yaxşı</option>\n                          <option value=\"4\">4- Çox Yaxşı</option>\n                          <option value=\"5\">5- Əla</option>\n                        </select>\n                      </div>\n                      <div>\n                        <label htmlFor=\"comment\">Koment</label>\n                        <textarea\n                          id=\"comment\"\n                          value={comment}\n                          onChange={(e) => setComment(e.target.value)}\n                        ></textarea>\n                      </div>\n                      <div>\n                        <label />\n                        <button\n                          className=\"bg-[#08AD76] text-[white]\"\n                          type=\"submit\"\n                        >\n                          Göndər\n                        </button>\n                      </div>\n                      <div>\n                        {loadingReviewCreate && <LoadingBox></LoadingBox>}\n                        {errorReviewCreate && (\n                          <MessageBox variant=\"danger\">\n                            {errorReviewCreate}\n                          </MessageBox>\n                        )}\n                      </div>\n                    </form>\n                  ) : (\n                    <MessageBox>\n                      Rəy yazmaq üçün zəhmət olmasa <Link to=\"/signin\">daxil olun</Link>\n                    </MessageBox>\n                  )}\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </div>\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div`\n  width: 80%;\n  margin: auto;\n  margin-top: 30px;\n  margn-bottom: 50px;\n\n  hr {\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n  .main {\n    display: flex;\n    width: 100%;\n  }\n  .productname {\n    font-size: 45px;\n    font-weight: bold;\n  }\n\n  select {\n    border: 1px solid black;\n  }\n\n  .productimg {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 50%;\n    height: 500px;\n    background-color: #f6f6f4;\n  }\n\n  .productimg img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .content {\n    width: 50%;\n    margin-left: 30px;\n    padding: 20px;\n  }\n\n  @media (max-width: 768px) {\n    width: 95%;\n    .main {\n      flex-direction: column;\n    }\n    .content {\n      width: 100%;\n      margin-left: 0px;\n    }\n    .accordion {\n      width: 100%;\n    }\n\n    .productname {\n      font-size: 25px;\n      font-weight: bold;\n    }\n    .carttext {\n      font-size: 15px;\n    }\n    .productimg {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 300px;\n      background-color: #f6f6f4;\n    }\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}